Actor NewRocketLauncher : RocketLauncher replaces RocketLauncher
{
  Weapon.PreferredSkin "RLMarine"
  Weapon.SlotNumber 5
  Weapon.AmmoType "RocketClip"
  Weapon.AmmoType2 "RocketAmmo"  
  Weapon.AmmoUse 1
  Weapon.AmmoGive2 2
  Weapon.AmmoGive 0
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  Scale 0.85
  States
  {
  Deselect:
    MISG A 1 A_Lower
	MISG A 0 A_Lower
    Loop
  Select:
    MISG A 1 A_Raise
	MISG A 0 A_Lower
    Loop
  Fire:
    MISG A 0 A_JumpIfNoAmmo("AltFire")
	MISG A 0 A_AlertMonsters
    MISG B 8 A_GunFlash
    MISG B 12 A_FireCustomMissile("MarineRocket2")
    MISG B 0 A_ReFire
    Goto Ready
  AltFire:
    TNT1 A 0 A_JumpIfInventory("RocketClip",5,2)
    TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,2)
	TNT1 A 0
	Goto Ready
    MISG B 2 OffSet(0, 38)
	MISG B 2 OffSet(0, 44)
	MISG B 2 OffSet(0, 52)
	MISG B 2 OffSet(0, 60)
	MISG B 2 OffSet(0, 72)
	MISG B 15 A_OpenShotgun2
	MISG B 0 A_JumpIfInventory("RocketAmmo",1,"Reloadin")
	MISG B 15 A_LoadShotgun2
	MISG B 15 A_PlaySound ("weapons/sshotc", CHAN_WEAPON)
	MISG B 2 OffSet(0, 72)
    MISG B 2 OffSet(0, 60)
	MISG B 2 OffSet(0, 52)
	MISG B 2 OffSet(0, 44)
	MISG B 2 OffSet(0, 38)
	Goto Ready
  Reloadin:
	TNT1 A 0 A_TakeInventory("RocketAmmo",1)
	TNT1 A 0 A_GiveInventory("RocketClip",1)
	TNT1 A 0 A_JumpIfInventory("RocketClip",5,"Full")
	TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,"Reloadin")
	Goto AltFire+10
  Full:
    TNT1 A 0
    Goto AltFire+10
  }
}

ACTOR RocketClip : Ammo
{
  Inventory.Amount 0
  Inventory.MaxAmount 5
  Ammo.BackpackAmount 0
  Ammo.BackpackMaxAmount 5
  Inventory.Icon "ROCKA0"
  +IGNORESKILL
}

Actor MarineRocket2 : Rocket
{
  Decal BigScorch
  +MThruSpecies
  +ThruGhost
  States
  {
  Spawn:
    MISL A 4 Bright A_SpawnItemEx("CyRocketTrail", -8, 0, 6)
	Loop
  }
}
    
//CyRocketTrail is in monsters/vanilla